<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) and Bootstrap -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  <title>"Work 1 : JQuery+Bootstrap Matching Game"</title>
</head>

<body>

  <h1 class="alert alert-primary text-center">งานที่ 1 : เกมจับคู่ภาพ โดยใช้ JQuery และ Bootstrap</h1>

  <div id="view1" class="text-center p-5">
    <button type="homeBtn" class="btn btn-info" onclick="document.location='index.html'"> Home </button>
    <button type="button" id="playBtn" class="btn btn-primary">เริ่มเล่นเกม</button>
  </div>

  <div id="view2" class="container p=5">
    <div class="text-center p-5">
      <button type="button" id="stopBtn" class="btn btn-primary">เลิกเล่นเกม</button>
    </div>
    <div class="row">
      <div class="col"><img src="work1/hide.png" id="img1" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img2" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img3" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img4" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img5" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img6" width="200" height="300"></div>
    </div>
    <div class="row">
      <div class="col"><img src="work1/hide.png" id="img7" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img8" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img9" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img10" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img11" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img12" width="200" height="300"></div>
    </div>
    <div class="row">
      <div class="col"><img src="work1/hide.png" id="img13" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img14" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img15" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img16" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img17" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img18" width="200" height="300"></div>
    </div>
    <div class="row">
      <div class="col"><img src="work1/hide.png" id="img19" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img20" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img21" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img22" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img23" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img24" width="200" height="300"></div>
    </div>
    <div class="row">
      <div class="col"><img src="work1/hide.png" id="img25" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img26" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img27" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img28" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img29" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img30" width="200" height="300"></div>
    </div>
    <div class="row">
      <div class="col"><img src="work1/hide.png" id="img31" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img32" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img33" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img34" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img35" width="200" height="300"></div>
      <div class="col"><img src="work1/hide.png" id="img36" width="200" height="300"></div>
    </div>
  </div>

  <div id="view3" class="container p=5">
    <div id="myProgress">
      <div id="myBar">10%</div>
    </div>
    <h3 class="alert alert-primary text-center">แนะนำ : รอให้ทุกภาพโหลดเสร็จสิ้นก่อน จึงกดเล่นเกมได้ </h3>
    <div class="row">
      <div class="col"><img src="work1/1.png" id="img1" width="200" height="300"></div>
      <div class="col"><img src="work1/2.png" id="img2" width="200" height="300"></div>
      <div class="col"><img src="work1/3.png" id="img3" width="200" height="300"></div>
      <div class="col"><img src="work1/4.png" id="img4" width="200" height="300"></div>
      <div class="col"><img src="work1/5.png" id="img5" width="200" height="300"></div>
      <div class="col"><img src="work1/6.png" id="img6" width="200" height="300"></div>
    </div>
    <div class="row">
      <div class="col"><img src="work1/7.png" id="img7" width="200" height="300"></div>
      <div class="col"><img src="work1/8.png" id="img8" width="200" height="300"></div>
      <div class="col"><img src="work1/9.png" id="img9" width="200" height="300"></div>
      <div class="col"><img src="work1/10.png" id="img10" width="200" height="300"></div>
      <div class="col"><img src="work1/11.png" id="img11" width="200" height="300"></div>
      <div class="col"><img src="work1/12.png" id="img12" width="200" height="300"></div>
    </div>
    <div class="row">
      <div class="col"><img src="work1/13.png" id="img13" width="200" height="300"></div>
      <div class="col"><img src="work1/14.png" id="img14" width="200" height="300"></div>
      <div class="col"><img src="work1/15.png" id="img15" width="200" height="300"></div>
      <div class="col"><img src="work1/16.png" id="img16" width="200" height="300"></div>
      <div class="col"><img src="work1/0.png" id="img17" width="200" height="300"></div>
      <div class="col"><img src="work1/1.png" id="img18" width="200" height="300"></div>
    </div>
    <div class="row">
      <div class="col"><img src="work1/2.png" id="img19" width="200" height="300"></div>
      <div class="col"><img src="work1/3.png" id="img20" width="200" height="300"></div>
      <div class="col"><img src="work1/4.png" id="img21" width="200" height="300"></div>
      <div class="col"><img src="work1/5.png" id="img22" width="200" height="300"></div>
      <div class="col"><img src="work1/6.png" id="img23" width="200" height="300"></div>
      <div class="col"><img src="work1/7.png" id="img24" width="200" height="300"></div>
    </div>
    <div class="row">
      <div class="col"><img src="work1/8.png" id="img25" width="200" height="300"></div>
      <div class="col"><img src="work1/9.png" id="img26" width="200" height="300"></div>
      <div class="col"><img src="work1/10.png" id="img27" width="200" height="300"></div>
      <div class="col"><img src="work1/11.png" id="img28" width="200" height="300"></div>
      <div class="col"><img src="work1/12.png" id="img29" width="200" height="300"></div>
      <div class="col"><img src="work1/13.png" id="img30" width="200" height="300"></div>
    </div>
    <div class="row">
      <div class="col"><img src="work1/14.png" id="img31" width="200" height="300"></div>
      <div class="col"><img src="work1/15.png" id="img32" width="200" height="300"></div>
      <div class="col"><img src="work1/16.png" id="img33" width="200" height="300"></div>
      <div class="col"><img src="work1/0.png" id="img34" width="200" height="300"></div>
      <div class="col"><img src="work1/1.png" id="img35" width="200" height="300"></div>
      <div class="col"><img src="work1/2.png" id="img36" width="200" height="300"></div>
    </div>
  </div>

  <script>
    $(function () {
      move();
      $("#view2").hide();
      $("#playBtn").click(startGame);
      $("#stopBtn").click(stopGame);
      $("#view2 img").click(imgClick);
    });
    function startGame() {
      shuffer();
      $("#view1").hide();
      $("#view2").show();
      $("#view3").hide();
    }
    function stopGame() {
      $("#view1").show();
      $("#view3").show();
      $("#view2").hide();
    }
    function shuffer() {
      var list = [];
      list[0] = 0;
      for (var i = 1; i <= 16; i++) {
        list.push(i);
        list.push(i);
      }
      for (var i = 1; i < 100; i++) {
        var a = 1 + Math.round(Math.random() * 31);
        var b = 1 + Math.round(Math.random() * 31);
        var t = list[a];
        list[a] = list[b];
        list[b] = t;
      }
      $("#view2 img").attr("src", "work1/hide.png")
        .attr("state", 0);
      for (var i = 1; i <= 32; i++) {
        $("#img" + i).attr("srcx", "work1/" + list[i] + ".png");
      }
    }
    var open_count = 0;
    var open_card1 = 0;
    var open_card2 = 0;
    var all_card = 32;
    function imgClick() {
      console.log(this);
      if ($(this).attr("state") != 0) return;
      if (open_count >= 2) return;

      open_count++;
      var s = $(this).attr("srcx");
      if (open_count == 1) open_card1 = s;
      if (open_count == 2) open_card2 = s;
      $(this).hide().attr("src", s).slideDown(500);
      $(this).attr("state", 1);
      if (open_count == 2) {
        setTimeout(() => {
          if (open_card1 == open_card2) {
            all_card -= 2;
            $("[state=1]").fadeOut(1000).attr("state", 2);
          } else {
            $("[state=1]").attr("state", 0).attr("src", "work1/hide.png");
          }
          open_count = 0;
          open_card2 = "";
          open_card1 = "";

        }, 2000)
      }
    }
  </script>

  <script>
    var i = 0;
    function move() {
      if (i == 0) {
        i = 1;
        var elem = document.getElementById("myBar");
        var width = 10;
        var id = setInterval(frame, 1);
        function frame() {
          if (width >= 100) {
            clearInterval(id);
            i = 0;
          } else {
            width++;
            elem.style.width = width + "%";
            elem.innerHTML = width + "%";
          }
        }
      }
    }
  </script>

  <style>
    #myBar {
      width: 10%;
      height: 30px;
      background-color: #04AA6D;
      text-align: center;
      /* To center it horizontally (if you want) */
      line-height: 30px;
      /* To center it vertically */
      color: white;
    }

    body {
      background-image: url('work1/BG.jpeg');
    }

    #view2 .col img {
      width: 100%;
      border: 5px solid #555;
    }

    #view3 .col img {
      width: 100%;
      border: 5px solid #555;
    }

    #view3 .col img {
      padding: 2px;
    }

    #view2 .col {
      padding: 2px;
    }
  </style>

  <div class="container p=5">
    <audio id="player" autoplay controls>
      <source src="work1/valorant.ogg" type="audio/ogg">
    </audio>
    <script>
      var audio = document.getElementById("player");
      audio.volume = 0.2;
    </script>
  </div>


</body>

</html>